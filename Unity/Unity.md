# UnityAPI

## Mathf

### Lerpå’ŒInverse Lerp

Inverse Lerpæ±‚çš„æ˜¯ä¸€ä¸ªå€¼åœ¨minå’Œmaxä¹‹é—´çš„æ¯”ä¾‹

```
t = (value - min) / (max - min)
```

Lerpæ±‚çš„æ˜¯ä¸€ä¸ªæ’å€¼çš„æ•°å€¼

```
result = a + (b - a) * t
```

### **ğŸ”¹ `InvokeRepeating` ä½œç”¨**

`InvokeRepeating` æ˜¯ Unity æä¾›çš„æ–¹æ³•ï¼Œç”¨äº **åœ¨æŒ‡å®šæ—¶é—´åå¼€å§‹é‡å¤è°ƒç”¨æŸä¸ªæ–¹æ³•ï¼Œå¹¶ä»¥å›ºå®šé—´éš”é‡å¤æ‰§è¡Œ**ã€‚

------

### **ğŸ”¹ è¯­æ³•**

```
csharp


å¤åˆ¶ç¼–è¾‘
InvokeRepeating(string methodName, float time, float repeatRate);
```

| å‚æ•°         | ä½œç”¨                        |
| ------------ | --------------------------- |
| `methodName` | è¦è°ƒç”¨çš„æ–¹æ³•åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰  |
| `time`       | **å»¶è¿Ÿå¤šå°‘ç§’å** å¼€å§‹æ‰§è¡Œ   |
| `repeatRate` | **æ¯éš”å¤šå°‘ç§’** é‡æ–°æ‰§è¡Œä¸€æ¬¡ |

------

### **ğŸ”¹ ç¤ºä¾‹**

#### **ğŸŒŸ è®©ä¸€ä¸ªç‰©ä½“æ¯ 2 ç§’æ‰§è¡Œä¸€æ¬¡ `PrintMessage()`**

```
csharpå¤åˆ¶ç¼–è¾‘void Start()
{
    InvokeRepeating("PrintMessage", 1f, 2f);
}

void PrintMessage()
{
    Debug.Log("æ¯ 2 ç§’è§¦å‘ä¸€æ¬¡ï¼");
}
```

âœ… **è¿è¡Œç»“æœï¼š**

- **1 ç§’å**ï¼Œ`PrintMessage()` æ‰§è¡Œ **ï¼ˆç¬¬ä¸€æ¬¡è°ƒç”¨ï¼‰**ã€‚
- **ä¹‹åæ¯ 2 ç§’**ï¼Œ`PrintMessage()` å†æ¬¡æ‰§è¡Œã€‚

------

## **ğŸ”¹ å–æ¶ˆ `InvokeRepeating`**

å¦‚æœæƒ³ **åœæ­¢è°ƒç”¨**ï¼Œå¯ä»¥ä½¿ç”¨ï¼š

```
csharp


å¤åˆ¶ç¼–è¾‘
CancelInvoke("æ–¹æ³•å");
```

#### **ğŸŒŸ åœæ­¢ `InvokeRepeating`**

```
csharpå¤åˆ¶ç¼–è¾‘void Start()
{
    InvokeRepeating("PrintMessage", 1f, 2f);
    Invoke("StopRepeating", 10f); // 10 ç§’ååœæ­¢
}

void PrintMessage()
{
    Debug.Log("æ¯ 2 ç§’è§¦å‘ä¸€æ¬¡ï¼");
}

void StopRepeating()
{
    CancelInvoke("PrintMessage");
    Debug.Log("åœæ­¢é‡å¤è°ƒç”¨ï¼");
}
```

âœ… **è¿è¡Œç»“æœï¼š**

- **1 ç§’å**ï¼Œå¼€å§‹å¾ªç¯æ‰§è¡Œ `PrintMessage()`ã€‚
- **æ¯ 2 ç§’è§¦å‘ä¸€æ¬¡**ã€‚
- **10 ç§’å**ï¼Œ`StopRepeating()` è°ƒç”¨ `CancelInvoke()`ï¼Œåœæ­¢é‡å¤è°ƒç”¨ã€‚

------

## **ğŸ”¹ `InvokeRepeating` vs. `Coroutine`**

| **åŠŸèƒ½**         | **InvokeRepeating** | **Coroutineï¼ˆåç¨‹ï¼‰**            |
| ---------------- | ------------------- | -------------------------------- |
| **å®šæ—¶é‡å¤æ‰§è¡Œ** | âœ… å¯ä»¥              | âœ… å¯ä»¥                           |
| **æ§åˆ¶æ‰§è¡Œæ¬¡æ•°** | âŒ ä¸èƒ½ï¼ˆæ— é™å¾ªç¯ï¼‰  | âœ… `for` / `while` è½»æ¾æ§åˆ¶       |
| **æš‚åœ & ç»§ç»­**  | âŒ ä¸èƒ½æš‚åœ          | âœ… `yield return` æ§åˆ¶            |
| **æå‰ç»ˆæ­¢**     | âœ… `CancelInvoke()`  | âœ… `StopCoroutine()`              |
| **ä»£ç å¤æ‚åº¦**   | âœ… ç®€å•              | âš  ç¨å¾®å¤æ‚                       |
| **ç­‰å¾…å…¶ä»–æ¡ä»¶** | âŒ åªèƒ½å›ºå®šé—´éš”      | âœ… `WaitUntil` / `WaitForSeconds` |

------

## **ğŸ”¹ ç”¨åç¨‹æ›¿ä»£ `InvokeRepeating`**

å¦‚æœä½ æƒ³è¦**æ›´çµæ´»çš„æ§åˆ¶ï¼ˆå¦‚æš‚åœã€æå‰ç»ˆæ­¢ã€åŠ¨æ€è°ƒæ•´æ—¶é—´é—´éš”ï¼‰**ï¼Œå¯ä»¥ä½¿ç”¨ **åç¨‹** ä»£æ›¿ `InvokeRepeating`ã€‚

#### **ğŸŒŸ ç”¨åç¨‹å®ç° `InvokeRepeating`**

```
csharpå¤åˆ¶ç¼–è¾‘IEnumerator RepeatMessage(float interval)
{
    while (true) // æ— é™å¾ªç¯
    {
        Debug.Log("æ¯ " + interval + " ç§’è§¦å‘ä¸€æ¬¡ï¼");
        yield return new WaitForSeconds(interval); // ç­‰å¾… interval ç§’
    }
}

void Start()
{
    StartCoroutine(RepeatMessage(2f));
}
```

âœ… **ä¼˜ç‚¹ï¼š**

- å¯ä»¥ç”¨ **`yield return`** è®©å‡½æ•°**æš‚åœæ‰§è¡Œ**ï¼Œç­‰å¾…ä¸€å®šæ—¶é—´åç»§ç»­ã€‚
- å¯ä»¥ **éšæ—¶ `StopCoroutine` ç»ˆæ­¢**ï¼Œæ›´åŠ çµæ´»ï¼

------

## **ğŸ”¹ é€‚ç”¨åœºæ™¯**

âœ… **ä½¿ç”¨ `InvokeRepeating`**

- ç®€å•çš„ **æ— é™é‡å¤** è°ƒç”¨ï¼ˆå¦‚**è‡ªåŠ¨æ”»å‡»ã€èƒŒæ™¯éŸ³ä¹å¾ªç¯**ï¼‰ã€‚
- æ²¡æœ‰ **æš‚åœã€åŠ¨æ€ä¿®æ”¹é—´éš”ã€æå‰ç»ˆæ­¢** çš„éœ€æ±‚ã€‚

âœ… **ä½¿ç”¨ `Coroutine`**

- **å¯ä»¥æš‚åœ**ã€æ¢å¤ã€æ§åˆ¶æ‰§è¡Œæ¬¡æ•°ï¼ˆå¦‚**å€’è®¡æ—¶ã€åŠ¨ç”»æ§åˆ¶**ï¼‰ã€‚
- éœ€è¦ **ç­‰å¾…ç‰¹å®šæ¡ä»¶** æ‰æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯ï¼ˆå¦‚**æ•Œäººå·¡é€»è¡Œä¸º**ï¼‰ã€‚

------

## **ğŸ”¹ ç»“è®º**

1. **`InvokeRepeating`** ç”¨äº**å›ºå®šé—´éš”é‡å¤è°ƒç”¨**ï¼Œç®€å•æ˜“ç”¨ã€‚
2. **å¯ä»¥ç”¨ `CancelInvoke("æ–¹æ³•å")` åœæ­¢ `InvokeRepeating`**ã€‚
3. **åç¨‹ï¼ˆCoroutineï¼‰æ›´çµæ´»**ï¼Œå¯ä»¥æ§åˆ¶æš‚åœã€æ¢å¤ã€æ¡ä»¶ç­‰å¾…ç­‰ã€‚
4. **å¦‚æœåªæ˜¯ç®€å•çš„å®šæ—¶è°ƒç”¨ï¼Œ`InvokeRepeating` æ›´æ–¹ä¾¿**ã€‚
5. **å¦‚æœéœ€è¦åŠ¨æ€è°ƒæ•´æ‰§è¡Œé—´éš”æˆ–æš‚åœï¼Œæ¨è `Coroutine`**ã€‚

ğŸš€ **å¦‚æœä½ çš„ä»»åŠ¡éœ€è¦æ— é™å¾ªç¯æ‰§è¡Œï¼Œ`InvokeRepeating` å¾ˆæ–¹ä¾¿ï¼å¦‚æœéœ€è¦æ›´å¼ºçš„æ§åˆ¶ï¼Œ`Coroutine` æ›´é€‚åˆï¼** ğŸ˜ƒ



## FixedUpdate

https://zhuanlan.zhihu.com/p/30335370
