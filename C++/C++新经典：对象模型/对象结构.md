# C++对象结构

1. 空对象取Sizeof也有一个字节的占用：

我们知道，对象当中的static变量、类内方法都属于类而不属于对象，因此他们都不会占用对象的空间。

但是当在类内声明一个virtual 函数之后，对象大小就会从1字节变为4字节。4字节是虚函数表指针（vtbp）

多继承下，this指针的起始位置不一样

![image-20241103230340960](./assets/image-20241103230340960.png)

## 2. 合成的默认构造函数：

合成的默认构造函数只有在**必要**的时候才会真正的被编译器产生

何时是必要的？

1. 当类中没有自定义的构造函数，并且类内存在**类类型的成员变量**的时候

2. 父类有默认构造函数，但是子类没有任何构造函数
3. 一个类有虚函数，但是这个类没有任何构造函数

说白了，类的默认构造函数只有在需要在构造函数构造的时候进行一些操作或者调用的时候才会被编译器构造：比如父类的构造，就需要在构造函数当中被调用