# 游族饭包一面 2025.2.20（30min）

没想到真是饭包工作室，面试官人很好，面试体验最好的一次

## 0. 自我介绍

1. 面试官自我介绍
2. 我自我介绍

## 1. 项目拷打

1. A*算法是如何提高在项目中的表现的？
   1. 答：堆优化，分帧处理
   2. 追问：如果同时生成敌人，如何处理A*运行的卡顿？
   3. 答：半天憋了个协程。然后就转到协程那边去了
   4. 堆排序时间复杂度：
      1. O(log n)，用什么实现的堆排序->C#高版本是直接支持优先队列的，但是Unity的版本不支持，所以自己实现了一个优先队列

2. Unity生命周期

   1. FixedUpdate底层实现？如何保证固定时间更新
      1. 答：不知道
      2. 面试官：很神奇吧。

   2. Unity Update FixedUpdate调用顺序

   1. 答：各自的调用时间以及设计目的，物理写在哪里，游戏逻辑写在哪里，Camera写在哪里

   3. 协程是什么？

      1. 答：C#协程是个状态机+迭代器。依靠Unity的运行时实现了类似并行的效果

      2. 追问：那么协程在什么时候调用的？：根据yield return 的不同来区分不同的调用时机（面试官觉得这里答得不错）

3. 最近玩了什么游戏？答：天国拯救2

   1. 面试官也玩了，我以为闲谈呢，然后他说：那给你一个场景，如果现在让你设计天国拯救中很多个敌人要打你的AI，你如何设计？
   
   
      2. 答：如果敌人逻辑比较简单的话，有限状态机，如果复杂就用行为树
   
   
   3. 追问：状态机和行为树的优缺点
   
   4. 答：状态机好写，而且我项目中的写法可以拆分的很彻底（本来想让面试官继续问的），但是状态机本身就不太能支持复杂的状态切换，很不好写。而且如果有那种所有状态都可以跳转的状态的话，有限状态机就没法支持了。
   
   行为树可以解决这个问题，而且因为是树状结构加上先序遍历，来决定执行顺序，那就可以很好的拆分AI逻辑，并且行为树对复杂状态的支持很好，缺点是不好写。
   
   面试官：看来你对AI这块掌握的不错

## 2.UI

1. 动静分离：
   1. 动静分离可能会遇到分层的问题（好像是动可能会出现在静的上面，如何解决）
   2. 场景：给你一个UI有动有静的，你如何设计
2. UI渲染顺序：
   1. 说一下Canvas的渲染模式：Overlap，Camera，WorldSpace
   2. 影响Canvas间的渲染顺序的因素：
      1. 编辑器里的顺序
      2. SortingLayer
      3. SortOrder
3. 合批
   1. 什么样的情况会合批
   2. Unity打断动态合批的因素
      1. 答：我知道一个应该打断但是没打断的情况
      2. 追问：是啥
      3. 答：我看网上说mesh重叠的时候可能会打断，但是我自己测试下来有的时候Material一样但是重叠的时候也没有打断
      4. 面试官就教了我怎么查hhh

## 3. 数据结构

1. 链表和数组，优缺点和各自支持的场景

## 4. 反问

1. 表现：还可以，对自己的项目都比较熟悉
2. 问：我也阅读过UGUI的源码，但是有的时候还是不知道什么时候会出现一些问题。如何深入：做业务，还有就是可以尝试着自己实现一些游戏中的复杂效果，比如天国拯救里面的UI，不是简单的用UGUI就能直接实现的，他会涉及到一些复杂的UI关系，可以自己尝试着实现一下。还有就是要考虑极端情况。
3. 进去干什么？

一面结束后我本来想找hr问问的，然后几乎同时，我找hr的时候hr给我发消息通知一面通过了